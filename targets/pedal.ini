# ********************************
# Pedal VRX backpack -- External pedal trigger using headtracking messages
# ********************************

[pedal_backpack_common]
board_build.f_cpu = 80000000L
build_flags =
	${common_env_data.build_flags}
	-D TARGET_VRX_BACKPACK
	-D PEDAL_BACKPACK
    ;-DDEBUG_LOG -DDEBUG_LOG_VERBOSE
build_src_filter =
	${common_env_data.build_src_filter}
	-<Tx_main.cpp>
	; -<Vrx_main.cpp>
	-<rapidfire.*>
	-<rx5808.*>
	-<steadyview.*>
	-<tbs_fusion.*>
	-<hdzero.*>
	-<skyzone_msp.*>
	-<orqa.*>
	-<Timer_main.cpp>
	-<mfd_crossbow.*>
    -<module_crsf.*>

[env:Pedal_ESP32_Backpack_via_UART]
extends = env_common_esp32, pedal_backpack_common
build_flags =
	${env_common_esp32.build_flags}
	${pedal_backpack_common.build_flags}
	-D LED_INVERTED=1
    -D PIN_LED=2
    -D PIN_PEDAL_BUTTON=0

[env:Pedal_ESP32C3_Backpack_via_UART]
extends = env_common_esp32c3, pedal_backpack_common
build_flags =
	${env_common_esp32c3.build_flags}
	${pedal_backpack_common.build_flags}
    -D ARDUINO_USB_CDC_ON_BOOT=1
    -D PIN_LED=8
    -D PIN_PEDAL_BUTTON=9

[env:Pedal_ESP32S3_Backpack_via_UART]
extends = env_common_esp32s3, pedal_backpack_common
build_flags =
	${env_common_esp32s3.build_flags}
	${pedal_backpack_common.build_flags}
	-D LED_INVERTED=1
    -D ARDUINO_USB_CDC_ON_BOOT=1
    -D PIN_LED=38
    -D PIN_PEDAL_BUTTON=0
